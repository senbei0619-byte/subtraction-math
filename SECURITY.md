# Security Policy 🔐

## 報告方法
脆弱性やセキュリティ問題を発見した場合は、できるだけ早く報告してください。
- 優先: プライベートな GitHub Issue（セキュリティラベルを付ける）
- 代替: セキュリティ連絡先メール: `<your-email@example.com>`（プレースホルダ）
 - 優先: GitHub の Issues を利用（プライベートな報告が必要な場合はリポジトリ設定で非公開 Issue を利用してください）
 - 代替: セキュリティ連絡先メール（任意に設定）: `security@your-domain.example`（必ず実運用の連絡先に置き換えてください）

報告内容には再現手順、影響範囲、提案される緩和策などを含めてください。

## 対応
- 受領後、72時間以内に初動レスポンスを行い、詳細な対応方針を提示します。

> 注意: 実際の運用時は連絡先や PGP 鍵情報を記載してください。

## 最近の自動セキュリティチェック（2026-02-04）

- 実行内容: リポジトリ全体の静的スキャン（`eval`, `innerHTML`, `document.write`, `http://`, シークレット文字列などのパターン検索）を実施しました。
- 検出結果:
  - `script.js` 内で `innerHTML` を使ってフィードバック表示用の HTML を組み立てている箇所を検出しました（ユーザー入力そのものを注入している訳ではありませんが、将来的な拡張でリスクになる可能性があります）。
  - その他の危険なパターン（`eval`, `document.write`, `http://` 外部ロード、露骨な API キー表記など）は検出されませんでした。

## 実施済み対応

- セーフティ修正: `script.js` のフィードバック表示部分を `innerHTML` による文字列連結ではなく、DOM 要素を安全に構築して追加する実装に置換しました（XSS リスク低減）。

## 推奨事項（公開前に確認してください）

1. XSS 対策
	- 可能な限り `innerHTML` を避け、`textContent` / `createElement` / `appendChild` を使って DOM を構築してください。
	- 将来的に外部入力（URL パラメータ、サーバーからのレスポンス等）を表示する場合は厳格にサニタイズしてください。

2. コンテンツセキュリティポリシー (CSP)
	- GitHub Pages 上で配布する場合でも、`<meta http-equiv="Content-Security-Policy" ...>` の導入や、サーバ側ヘッダでの CSP 設定を検討してください（`script-src 'self'` など）。

3. HTTPS
	- 外部リソースを使用する場合は必ず `https://` を使ってください。現在は外部 CDN を利用していないため問題ありません。

4. 機密情報の取り扱い
	- API キーやシークレットがリポジトリに含まれていないことを再確認してください（現状、認識されるシークレットはありませんでした）。

5. レポーティングと連絡先
	- `SECURITY.md` の連絡先プレースホルダを実際の受け取り先メールまたは GitHub 組織のセキュリティ窓口に更新してください。

## 次のアクション提案

- `index.html` に CSP の簡易メタタグを追加する（希望があれば私が追加します）。
- 自動化: CI で簡単な静的スキャン（node の `eslint` ルールや小さなスキャンスクリプト）を追加することを推奨します。

---

この報告に基づいて追加修正や自動化を行いますか？希望があれば `index.html` への CSP 追加や、`script.js` のさらなるリファクタリングも実施します。
